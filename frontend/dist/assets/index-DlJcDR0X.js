import{r as l,a as _,u as I,L,B as E,R as O,b as u,N as R,c as D}from"./router-HnETy9kf.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}})();var S={exports:{}},j={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U=l,J=Symbol.for("react.element"),$=Symbol.for("react.fragment"),q=Object.prototype.hasOwnProperty,M=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B={key:!0,ref:!0,__self:!0,__source:!0};function k(o,t,a){var r,s={},n=null,i=null;a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)q.call(t,r)&&!B.hasOwnProperty(r)&&(s[r]=t[r]);if(o&&o.defaultProps)for(r in t=o.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:J,type:o,key:n,ref:i,props:s,_owner:M.current}}j.Fragment=$;j.jsx=k;j.jsxs=k;S.exports=j;var e=S.exports,v={},w=_;v.createRoot=w.createRoot,v.hydrateRoot=w.hydrateRoot;const F="http://localhost:3000/api/v1";class H{async login(t,a){try{const r=await fetch(`${F}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}),s=await r.json();if(!r.ok)throw new Error(s.message||"Login failed");return s.token&&(localStorage.setItem("auth_token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("tenant",JSON.stringify(s.tenant))),s}catch(r){throw console.error("Login error:",r),r}}async logout(){try{return localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("tenant"),{success:!0}}catch(t){throw console.error("Logout error:",t),t}}async getCurrentUser(){try{const t=localStorage.getItem("auth_token"),a=localStorage.getItem("user"),r=localStorage.getItem("tenant");return!t||!a?null:{user:JSON.parse(a),tenant:JSON.parse(r),token:t}}catch(t){return console.error("Get current user error:",t),null}}async refreshToken(){try{const t=localStorage.getItem("auth_token");if(!t)throw new Error("No token available");return{token:t}}catch(t){throw console.error("Refresh token error:",t),t}}isAuthenticated(){return!!localStorage.getItem("auth_token")}getToken(){return localStorage.getItem("auth_token")}getUser(){try{const t=localStorage.getItem("user");return t?JSON.parse(t):null}catch{return null}}getTenant(){try{const t=localStorage.getItem("tenant");return t?JSON.parse(t):null}catch{return null}}}const y=new H,P=l.createContext(),C=()=>{const o=l.useContext(P);if(!o)throw new Error("useAuth must be used within an AuthProvider");return o},z=({children:o})=>{const[t,a]=l.useState(null),[r,s]=l.useState(null),[n,i]=l.useState(!0),[d,c]=l.useState(!1);l.useEffect(()=>{(async()=>{try{const x=await y.getCurrentUser();x&&(a(x.user),s(x.tenant),c(!0))}catch(x){console.error("Auth initialization error:",x)}finally{i(!1)}})()},[]);const A={user:t,tenant:r,loading:n,isAuthenticated:d,login:async(b,x)=>{try{i(!0);const f=await y.login(b,x);return a(f.user),s(f.tenant),c(!0),f}catch(f){throw console.error("Login error:",f),f}finally{i(!1)}},logout:async()=>{try{await y.logout(),a(null),s(null),c(!1)}catch(b){console.error("Logout error:",b)}},updateUser:b=>{a(x=>({...x,...b}))},setUser:a,setTenant:s};return e.jsx(P.Provider,{value:A,children:o})},G=l.createContext(),W=({children:o})=>{const[t,a]=l.useState(null),[r,s]=l.useState(!0);l.useEffect(()=>{a({id:"test-tenant-id",name:"Test Company",domain:"localhost",plan:"professional",settings:{company_name:"Test Company",timezone:"Africa/Casablanca",currency:"MAD",language:"fr"},isActive:!0}),s(!1)},[]);const i={tenant:t,setTenant:a,updateTenant:d=>{a(c=>({...c,...d}))},loading:r};return e.jsx(G.Provider,{value:i,children:o})},T=l.createContext(),K=()=>{const o=l.useContext(T);if(!o)throw new Error("useTheme must be used within a ThemeProvider");return o},Y=({children:o})=>{const[t,a]=l.useState("light"),[r,s]=l.useState(!1);l.useEffect(()=>{const c=localStorage.getItem("deliveryhub-theme"),m=localStorage.getItem("deliveryhub-sidebar-collapsed");c&&a(c),m&&s(JSON.parse(m)),document.documentElement.classList.toggle("dark",c==="dark")},[]);const d={theme:t,setTheme:a,toggleTheme:()=>{const c=t==="light"?"dark":"light";a(c),localStorage.setItem("deliveryhub-theme",c),document.documentElement.classList.toggle("dark",c==="dark")},sidebarCollapsed:r,setSidebarCollapsed:s,toggleSidebar:()=>{const c=!r;s(c),localStorage.setItem("deliveryhub-sidebar-collapsed",JSON.stringify(c))},isDark:t==="dark"};return e.jsx(T.Provider,{value:d,children:o})},g=({children:o})=>{const{user:t,logout:a}=C(),{theme:r,toggleTheme:s,sidebarCollapsed:n,toggleSidebar:i}=K(),d=I(),c=[{name:"Tableau de bord",href:"/dashboard",icon:"üìä"},{name:"Commandes",href:"/orders",icon:"üì¶"},{name:"Clients",href:"/customers",icon:"üë•"},{name:"Transporteurs",href:"/providers",icon:"üöö"},{name:"Communications",href:"/communications",icon:"üí¨"},{name:"Analytiques",href:"/analytics",icon:"üìà"},{name:"Param√®tres",href:"/settings",icon:"‚öôÔ∏è"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 ${n?"w-16":"w-64"} bg-white dark:bg-gray-800 shadow-lg transition-all duration-300`,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700",children:[!n&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"D"})}),e.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-900 dark:text-white",children:"DeliveryHub"})]}),e.jsx("button",{onClick:i,className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:n?"‚Üí":"‚Üê"})]}),e.jsx("nav",{className:"mt-8",children:c.map(m=>{const h=d.pathname===m.href;return e.jsxs(L,{to:m.href,className:`flex items-center px-4 py-2 text-sm font-medium transition-colors ${h?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-200 border-r-2 border-blue-500":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx("span",{className:"text-lg mr-3",children:m.icon}),!n&&m.name]},m.name)})})]}),e.jsxs("div",{className:`${n?"ml-16":"ml-64"} transition-all duration-300`,children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Tableau de bord"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:s,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:r==="light"?"üåô":"‚òÄÔ∏è"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),e.jsx("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-500",children:"D√©connexion"})]})]})]})})}),e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o})})]})]})},Q=({children:o})=>e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"D"})}),e.jsx("span",{className:"ml-2 text-2xl font-bold text-gray-900",children:"DeliveryHub"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Plateforme SaaS de Livraison"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Gestion multi-tenant pour e-commerce"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:o})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"¬© 2026 DeliveryHub. Plateforme de gestion de livraison pour le Maroc."})})]}),V=()=>{const[o,t]=l.useState("admin@test.com"),[a,r]=l.useState("Admin123!"),[s,n]=l.useState(!1),[i,d]=l.useState(""),{login:c}=C(),m=async h=>{h.preventDefault(),n(!0),d("");try{await c(o,a)}catch(N){d(N.message||"Erreur de connexion")}finally{n(!1)}};return e.jsx(Q,{children:e.jsxs("form",{className:"space-y-6",onSubmit:m,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:h=>t(h.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"admin@test.com"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:h=>r(h.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Admin123!"})})]}),i&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:i}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-600 px-4 py-3 rounded-md text-sm",children:[e.jsx("strong",{children:"Identifiants de test :"}),e.jsx("br",{}),"Email: admin@test.com",e.jsx("br",{}),"Mot de passe: Admin123!"]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Connexion...":"Se connecter"})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Plateforme de d√©monstration - DeliveryHub SaaS"})})]})})},p=({children:o})=>o,X=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Welcome to your dashboard! Here you can manage your activities and view reports."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Users"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"120"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total active users"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sales"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"$5,400"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Revenue this month"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"8"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pending tasks"})]})]})]}),Z=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Commandes"}),e.jsx("p",{children:"Page des commandes en cours de d√©veloppement..."})]}),ee=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Clients"}),e.jsx("p",{children:"Page des clients en cours de d√©veloppement..."})]}),te=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Transporteurs"}),e.jsx("p",{children:"Page des transporteurs en cours de d√©veloppement..."})]}),se=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Communications"}),e.jsx("p",{children:"Page des communications en cours de d√©veloppement..."})]}),re=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Analytiques"}),e.jsx("p",{children:"Page des analytiques en cours de d√©veloppement..."})]}),ae=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Param√®tres"}),e.jsx("p",{children:"Page des param√®tres en cours de d√©veloppement..."})]});function ne(){return e.jsx(Y,{children:e.jsx(W,{children:e.jsx(z,{children:e.jsx(E,{children:e.jsx("div",{className:"App",children:e.jsxs(O,{children:[e.jsx(u,{path:"/auth/login",element:e.jsx(V,{})}),e.jsx(u,{path:"/",element:e.jsx(R,{to:"/dashboard",replace:!0})}),e.jsx(u,{path:"/dashboard",element:e.jsx(p,{children:e.jsx(g,{children:e.jsx(X,{})})})}),e.jsx(u,{path:"/orders",element:e.jsx(p,{children:e.jsx(g,{children:e.jsx(Z,{})})})}),e.jsx(u,{path:"/customers",element:e.jsx(p,{children:e.jsx(g,{children:e.jsx(ee,{})})})}),e.jsx(u,{path:"/providers",element:e.jsx(p,{children:e.jsx(g,{children:e.jsx(te,{})})})}),e.jsx(u,{path:"/communications",element:e.jsx(p,{children:e.jsx(g,{children:e.jsx(se,{})})})}),e.jsx(u,{path:"/analytics",element:e.jsx(p,{children:e.jsx(g,{children:e.jsx(re,{})})})}),e.jsx(u,{path:"/settings",element:e.jsx(p,{children:e.jsx(g,{children:e.jsx(ae,{})})})}),e.jsx(u,{path:"*",element:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"404"}),e.jsx("p",{className:"text-gray-600",children:"Page non trouv√©e"}),e.jsx("a",{href:"/dashboard",className:"text-blue-600 hover:text-blue-500",children:"Retour au tableau de bord"})]})})})]})})})})})})}v.createRoot(document.getElementById("root")).render(e.jsx(D.StrictMode,{children:e.jsx(ne,{})}));
//# sourceMappingURL=index-DlJcDR0X.js.map
